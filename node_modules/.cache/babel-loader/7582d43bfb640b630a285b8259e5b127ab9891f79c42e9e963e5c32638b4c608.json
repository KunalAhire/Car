{"ast":null,"code":"import React,{useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import Spinner from\"./Spinner\";import{useDispatch}from\"react-redux\";import{getServiceRecord,creatServiceRecord}from'../state/action-creators/index';import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ServiceRecords=function ServiceRecords(){var Dispatch=useDispatch();var car=useSelector(function(state){return state.DataReducers;});var location=useLocation();var params=new URLSearchParams(location.search);var getDate=function getDate(){var dateObj=new Date();var month=String(dateObj.getMonth()+1).padStart(2,\"0\");var day=String(dateObj.getDate()).padStart(2,\"0\");var year=dateObj.getFullYear();return year+\"/\"+month+\"/\"+day;};useEffect(function(){return function(){Dispatch(getServiceRecord(params.get(\"id\")));};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Service Record \"}),/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[car.length<=0?/*#__PURE__*/_jsx(\"h6\",{children:\"Service Record not available\"}):car.map(function(car,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 my-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[\"Service Date : \",car.servicing_date]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-subtitle mb-2 text-muted\",children:[\"Status : \",car.status]})]})})},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 my-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"create new service status \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"DATE : \",getDate()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){Dispatch(creatServiceRecord({status:\"finished\",user:params.get(\"id\")}));},children:\"Finished\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){Dispatch(creatServiceRecord({status:\"unfinished\",user:params.get(\"id\")}));},children:\"Unfinished\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){Dispatch(creatServiceRecord({status:\"scheduled\",user:params.get(\"id\")}));},children:\"Scheduled\"})]})]})})]})]});};export default ServiceRecords;","map":{"version":3,"names":["React","useEffect","useLocation","Spinner","useDispatch","getServiceRecord","creatServiceRecord","useSelector","ServiceRecords","Dispatch","car","state","DataReducers","location","params","URLSearchParams","search","getDate","dateObj","Date","month","String","getMonth","padStart","day","year","getFullYear","get","length","map","index","servicing_date","status","user"],"sources":["C:/Users/notme/Desktop/ReduxSaga/repo/Car/src/componants/ServiceRecords.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport Spinner from \"./Spinner\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getServiceRecord, creatServiceRecord } from '../state/action-creators/index';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ServiceRecords = () => {\r\n  const Dispatch = useDispatch();\r\n  const car = useSelector((state) => state.DataReducers);\r\n  const location = useLocation();\r\n  const params = new URLSearchParams(location.search);\r\n\r\n  const getDate = () => {\r\n    let dateObj = new Date();\r\n    let month = String(dateObj.getMonth() + 1).padStart(2, \"0\");\r\n    let day = String(dateObj.getDate()).padStart(2, \"0\");\r\n    let year = dateObj.getFullYear();\r\n    return year + \"/\" + month + \"/\" + day;\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    return () => {\r\n      Dispatch(getServiceRecord(params.get(\"id\")));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Service Record </h2>\r\n      <Spinner />\r\n      <div className=\"row\">\r\n        {\r\n          car.length <= 0 ? (<h6>Service Record not available</h6>) :\r\n            (\r\n              car.map((car, index) => {\r\n                return (\r\n                  <div className=\"col-md-3 my-1\" key={index}>\r\n                    <div className=\"card\">\r\n                      <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">\r\n                          Service Date : {car.servicing_date}\r\n                        </h5>\r\n                        <h6 className=\"card-subtitle mb-2 text-muted\">\r\n                          Status : {car.status}\r\n                        </h6>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )\r\n        }\r\n        <div className=\"col-md-6 my-1\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">create new service status </h5>\r\n              <p>DATE : {getDate()}</p>\r\n            </div>\r\n            <div className=\"card-footer d-flex justify-content-between\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  Dispatch(creatServiceRecord({ status: \"finished\", user: params.get(\"id\") }))\r\n                }}\r\n              >\r\n                Finished\r\n              </button>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  Dispatch(creatServiceRecord({ status: \"unfinished\", user: params.get(\"id\") }))\r\n                }}\r\n              >\r\n                Unfinished\r\n              </button>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  Dispatch(creatServiceRecord({ status: \"scheduled\", user: params.get(\"id\") }))\r\n                }}\r\n              >\r\n                Scheduled\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ServiceRecords;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}