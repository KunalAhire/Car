{"ast":null,"code":"import _slicedToArray from\"E:/React/internshala/carapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React from\"react\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{APIKEY}from'../config/API';import{useDispatch}from\"react-redux\";import{AlertSuccess}from'../state/action-creators/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewUser=function NewUser(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var Dispatch=useDispatch();var body={name:name,phone_no:parseInt(phone)};var createUser=function createUser(event){event.preventDefault();axios.post(\"\".concat(APIKEY,\"user/create\"),body,{headers:{\"content-type\":\"application/json; charset=UTF-8\"}}).then(function(response){if(response.data.error===0){navigate(\"/\");Dispatch(AlertSuccess(\"New User Addedd\"));}else{Dispatch(AlertSuccess(\"Duplicate entries Not Allowted\"));}}).catch(function(err){Dispatch(AlertSuccess(err));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center justify-content-center\",style:{height:\"100vh\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 fw-light\",children:\"Register new user\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"container text-center\",onSubmit:function onSubmit(e){createUser(e);},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-lighter\",children:\"sign in\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingInput\",placeholder:\"Enter Name\",onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingInput\",children:\"Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating my-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Enter Phone number\",onChange:function onChange(e){setPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"floatingPassword\",children:\"Phone\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\" Sign in \"})]})]});};export default NewUser;","map":{"version":3,"names":["axios","React","useState","useNavigate","APIKEY","useDispatch","AlertSuccess","NewUser","navigate","name","setName","phone","setPhone","Dispatch","body","phone_no","parseInt","createUser","event","preventDefault","post","headers","then","response","data","error","catch","err","height","e","target","value"],"sources":["E:/React/internshala/carapp/src/componants/NewUser.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport {useState} from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {APIKEY} from '../config/API';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { AlertSuccess } from '../state/action-creators/index'\r\nconst NewUser = () => {\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  const Dispatch = useDispatch();\r\n\r\n  const body = {\r\n    name : name,\r\n    phone_no : parseInt(phone)\r\n  }\r\n  const createUser = (event) =>{\r\n    event.preventDefault();\r\n    axios.post(`${APIKEY}user/create`,body,{headers: {\"content-type\": \"application/json; charset=UTF-8\",}})\r\n    .then((response)=>{\r\n      if(response.data.error === 0){navigate(\"/\");Dispatch(AlertSuccess(\"New User Addedd\"));}\r\n      else{Dispatch(AlertSuccess(\"Duplicate entries Not Allowted\"));}\r\n    })\r\n    .catch((err)=>{Dispatch(AlertSuccess(err));});\r\n  } \r\n  return (\r\n    <div className=\"d-flex flex-column align-items-center justify-content-center\" style={{height:\"100vh\"}}>\r\n     <h2 className=\"mb-4 fw-light\">Register new user</h2>\r\n        <form className=\"container text-center\" onSubmit={(e)=>{createUser(e);}}>\r\n          <h1 className=\"h3 mb-3 fw-lighter\">sign in</h1>\r\n\r\n          <div className=\"form-floating my-4\">\r\n            <input type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"Enter Name\" onChange={(e)=>{setName(e.target.value)}}/>\r\n            <label htmlFor=\"floatingInput\">Name</label>\r\n          </div>\r\n          <div className=\"form-floating my-4\">\r\n            <input type=\"text\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Enter Phone number\" onChange={(e)=>{setPhone(e.target.value)}}/>\r\n            <label htmlFor=\"floatingPassword\">Phone</label>\r\n          </div>\r\n          <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\"> Sign in </button>\r\n        </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewUser;\r\n"],"mappings":"iHAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,QAAQ,KAAO,OAAO,CAC9B,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAAQC,MAAM,KAAO,eAAe,CACpC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,YAAY,KAAQ,gCAAgC,yFAC7D,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpB,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,cAAwBD,QAAQ,CAAC,EAAE,CAAC,wCAA7BO,IAAI,eAAEC,OAAO,eACpB,eAA0BR,QAAQ,CAAC,EAAE,CAAC,yCAA/BS,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9B,GAAMS,KAAI,CAAG,CACXL,IAAI,CAAGA,IAAI,CACXM,QAAQ,CAAGC,QAAQ,CAACL,KAAK,CAC3B,CAAC,CACD,GAAMM,WAAU,CAAG,QAAbA,WAAU,CAAIC,KAAK,CAAI,CAC3BA,KAAK,CAACC,cAAc,EAAE,CACtBnB,KAAK,CAACoB,IAAI,WAAIhB,MAAM,gBAAcU,IAAI,CAAC,CAACO,OAAO,CAAE,CAAC,cAAc,CAAE,iCAAkC,CAAC,CAAC,CAAC,CACtGC,IAAI,CAAC,SAACC,QAAQ,CAAG,CAChB,GAAGA,QAAQ,CAACC,IAAI,CAACC,KAAK,GAAK,CAAC,CAAC,CAACjB,QAAQ,CAAC,GAAG,CAAC,CAACK,QAAQ,CAACP,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IACnF,CAACO,QAAQ,CAACP,YAAY,CAAC,gCAAgC,CAAC,CAAC,CAAC,CAChE,CAAC,CAAC,CACDoB,KAAK,CAAC,SAACC,GAAG,CAAG,CAACd,QAAQ,CAACP,YAAY,CAACqB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAC/C,CAAC,CACD,mBACE,aAAK,SAAS,CAAC,8DAA8D,CAAC,KAAK,CAAE,CAACC,MAAM,CAAC,OAAO,CAAE,wBACrG,WAAI,SAAS,CAAC,eAAe,UAAC,mBAAiB,EAAK,cACjD,cAAM,SAAS,CAAC,uBAAuB,CAAC,QAAQ,CAAE,kBAACC,CAAC,CAAG,CAACZ,UAAU,CAACY,CAAC,CAAC,CAAC,CAAE,wBACtE,WAAI,SAAS,CAAC,oBAAoB,UAAC,SAAO,EAAK,cAE/C,aAAK,SAAS,CAAC,oBAAoB,wBACjC,cAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAE,kBAACA,CAAC,CAAG,CAACnB,OAAO,CAACmB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAE,EAAE,cACnI,cAAO,OAAO,CAAC,eAAe,UAAC,MAAI,EAAQ,GACvC,cACN,aAAK,SAAS,CAAC,oBAAoB,wBACjC,cAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,kBAAkB,CAAC,WAAW,CAAC,oBAAoB,CAAC,QAAQ,CAAE,kBAACF,CAAC,CAAG,CAACjB,QAAQ,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAE,EAAE,cAC/I,cAAO,OAAO,CAAC,kBAAkB,UAAC,OAAK,EAAQ,GAC3C,cACN,eAAQ,SAAS,CAAC,8BAA8B,CAAC,IAAI,CAAC,QAAQ,UAAC,WAAS,EAAS,GAC5E,GACL,CAEV,CAAC,CAED,cAAexB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}