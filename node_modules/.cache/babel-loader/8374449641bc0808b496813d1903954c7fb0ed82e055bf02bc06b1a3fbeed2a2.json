{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/notme/Desktop/ReduxSaga/repo/Car/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/notme/Desktop/ReduxSaga/repo/Car/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{APIKEY}from'../../config/API';import axios from\"axios\";//get all user details\nexport var getAll=function getAll(){return fetch(\"\".concat(APIKEY,\"user/getall\")).then(function(response){return response.json();}).then(function(json){return json;}).catch(function(err){return err;});};//To create new user\nexport var createUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"\".concat(APIKEY,\"user/create\"),payload,{headers:{\"content-type\":\"application/json; charset=UTF-8\"}}).then(function(response){return response;}).catch(function(err){return err;});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));return function createUser(_x){return _ref.apply(this,arguments);};}();//get users cars\nexport var getAllCars=function getAllCars(payload){return fetch(\"\".concat(APIKEY,\"/user/get/\").concat(payload)).then(function(response){return response.json();}).then(function(json){return json;}).catch(function(err){return err;});};// create new car for user\nexport var createCar=function createCar(payload){return fetch(\"\".concat(APIKEY,\"car/create\"),{method:\"POST\",body:JSON.stringify({model:payload.model,color:payload.color,ownerid:payload.currentUser,purchase_date:payload.purchaseDate}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}}).then(function(response){return response.json();}).then(function(json){return json;}).catch(function(err){return err;});};// Get Service record of all cars\nexport var serviceRecords=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(APIKEY,\"/car/get/\").concat(payload)).then(function(response){return response.json();}).then(function(json){return json;}).catch(function(err){return err;});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}},_callee2);}));return function serviceRecords(_x2){return _ref2.apply(this,arguments);};}();// Create new service record\nexport var createService=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(payload){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",fetch(\"\".concat(APIKEY,\"/servicing/create\"),{method:\"POST\",body:JSON.stringify({carid:payload.user,servicing_date:getDate(),status:payload.status}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}}).then(function(response){return response.json();}).then(function(json){return json;}).catch(function(err){return err;}));case 1:case\"end\":return _context3.stop();}},_callee3);}));return function createService(_x3){return _ref3.apply(this,arguments);};}();var getDate=function getDate(){var dateObj=new Date();var month=String(dateObj.getMonth()+1).padStart(2,\"0\");var day=String(dateObj.getDate()).padStart(2,\"0\");var year=dateObj.getFullYear();return year+\"/\"+month+\"/\"+day;};","map":{"version":3,"names":["APIKEY","axios","getAll","fetch","then","response","json","catch","err","createUser","payload","post","headers","getAllCars","createCar","method","body","JSON","stringify","model","color","ownerid","currentUser","purchase_date","purchaseDate","serviceRecords","createService","carid","user","servicing_date","getDate","status","dateObj","Date","month","String","getMonth","padStart","day","year","getFullYear"],"sources":["C:/Users/notme/Desktop/ReduxSaga/repo/Car/src/state/Saga/ApiCall.js"],"sourcesContent":["import { APIKEY } from '../../config/API';\r\nimport axios from \"axios\";\r\n\r\n//get all user details\r\nexport const getAll = () => {\r\n  return fetch(`${APIKEY}user/getall`)\r\n    .then((response) => response.json())\r\n    .then((json) => json)\r\n    .catch((err) => err);\r\n}\r\n\r\n//To create new user\r\nexport const createUser = async (payload) => {\r\n  return await axios.post(`${APIKEY}user/create`, payload, { headers: { \"content-type\": \"application/json; charset=UTF-8\", } })\r\n    .then((response) => response)\r\n    .catch((err) => err);\r\n}\r\n\r\n//get users cars\r\n\r\nexport const getAllCars = (payload) => {\r\n  return fetch(`${APIKEY}/user/get/${payload}`)\r\n    .then((response) => response.json())\r\n    .then((json) => json)\r\n    .catch((err) => err);\r\n}\r\n\r\n// create new car for user\r\nexport const createCar = (payload) => {\r\n\r\n  return fetch(`${APIKEY}car/create`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify({\r\n      model: payload.model,\r\n      color: payload.color,\r\n      ownerid: payload.currentUser,\r\n      purchase_date: payload.purchaseDate,\r\n    }),\r\n    headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n  })\r\n    .then((response) => response.json())\r\n    .then((json) => json)\r\n    .catch((err) => err);\r\n}\r\n\r\n// Get Service record of all cars\r\nexport const serviceRecords = async (payload) => {\r\n  return await fetch(`${APIKEY}/car/get/${payload}`)\r\n    .then((response) => response.json())\r\n    .then((json) => json)\r\n    .catch((err) => err);\r\n}\r\n\r\n// Create new service record\r\nexport const createService = async (payload) => {\r\n  return fetch(`${APIKEY}/servicing/create`, {\r\n    method: \"POST\", body:\r\n      JSON.stringify({\r\n        carid: payload.user,\r\n        servicing_date: getDate(),\r\n        status: payload.status,\r\n      }),\r\n    headers: {\r\n      \"Content-type\": \"application/json; charset=UTF-8\",\r\n    }\r\n  })\r\n    .then((response) => response.json())\r\n    .then((json) => json)\r\n    .catch((err) => err);\r\n}\r\n\r\nconst getDate = () => {\r\n  let dateObj = new Date();\r\n  let month = String(dateObj.getMonth() + 1).padStart(2, \"0\");\r\n  let day = String(dateObj.getDate()).padStart(2, \"0\");\r\n  let year = dateObj.getFullYear();\r\n  return year + \"/\" + month + \"/\" + day;\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}